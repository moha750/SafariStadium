# โฝ ูุธุงู ุญุฌุฒ ููุงุนุจ ุณูุงุฑู

ูุธุงู ุญุฌุฒ ุฅููุชุฑููู ุงุญุชุฑุงูู ูููุงุนุจ ูุฑุฉ ุงููุฏู ูุน ููุญุฉ ุชุญูู ุฅุฏุงุฑูุฉ ูุฅุดุนุงุฑุงุช ูุงุชุณุงุจ ุชููุงุฆูุฉ.

## ๐ ุงููุญุชููุงุช

- [ุงููููุฒุงุช](#-ุงููููุฒุงุช)
- [ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ](#-ุงูุชูููุงุช-ุงููุณุชุฎุฏูุฉ)
- [ูููู ุงููุดุฑูุน](#-ูููู-ุงููุดุฑูุน)
- [ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช](#-ุงูุฅุนุฏุงุฏ-ูุงูุชุซุจูุช)
- [ุฅุนุฏุงุฏ Supabase](#-ุฅุนุฏุงุฏ-supabase)
- [ุฅุนุฏุงุฏ WhatsApp API](#-ุฅุนุฏุงุฏ-whatsapp-api)
- [ุงูุงุณุชุฎุฏุงู](#-ุงูุงุณุชุฎุฏุงู)
- [ุงููุดุฑ](#-ุงููุดุฑ)

---

## โจ ุงููููุฒุงุช

### ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
- โ ุชุตููู ุนุตุฑู ูุณุฑูุน ุงูุงุณุชุฌุงุจุฉ
- โ ุนุฑุถ ุจุทุงูุงุช ุงูููุงุนุจ (ุณูุงุฑู 1 ู ุณูุงุฑู 2)
- โ ูููุฐุฌ ุญุฌุฒ ุชูุงุนูู
- โ ุงูุชุญูู ูู ุงูุชููุฑ ูุจู ุงูุญุฌุฒ
- โ ุฏุนู ูุงูู ููุบุฉ ุงูุนุฑุจูุฉ (RTL)

### ููุญุฉ ุงูุชุญูู ุงูุฅุฏุงุฑูุฉ
- โ ุนุฑุถ ุฌููุน ุงูุญุฌูุฒุงุช
- โ ุฅุญุตุงุฆูุงุช ููุฑูุฉ
- โ ุชุตููุฉ ุญุณุจ ุงูุญุงูุฉ ูุงูููุนุจ
- โ ุงูููุงููุฉ/ุงูุฑูุถ ุจููุฑุฉ ูุงุญุฏุฉ
- โ ุชุญุฏูุซ ุชููุงุฆู

### ุฅุดุนุงุฑุงุช ูุงุชุณุงุจ
- โ ุฑุณุงูุฉ ุชุฃููุฏ ุนูุฏ ุงูููุงููุฉ
- โ ุชุฐููุฑ ุชููุงุฆู ูุจู ุงูููุนุฏ ุจุณุงุนุชูู
- โ ุงุณุชุฎุฏุงู WhatsApp Cloud API ุงูุฑุณูู
- โ ููุน ุงูุชูุฑุงุฑ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ Supabase PostgreSQL
- โ Row Level Security (RLS)
- โ ููุงุฑุณ ูุญุณููุฉ ููุฃุฏุงุก
- โ Triggers ุชููุงุฆูุฉ

---

## ๐ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Frontend
- **HTML5** - ูููู ุงูุตูุญุงุช
- **CSS3** - ุชุตููู ุนุตุฑู ูุน ูุชุบูุฑุงุช CSS
- **JavaScript (ES6+)** - ููุทู ุงูุชุทุจูู
- **Vanilla JS** - ุจุฏูู ุฃู ุฅุทุงุฑ ุนูู

### Backend
- **Supabase** - ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุตุงุฏูุฉ
- **PostgreSQL** - ูุงุนุฏุฉ ุจูุงูุงุช ุนูุงุฆููุฉ
- **Edge Functions** - ุฏูุงู ุจุฏูู ุฎุงุฏู (Deno)

### APIs
- **WhatsApp Cloud API** - ุฅุฑุณุงู ุงูุฅุดุนุงุฑุงุช
- **Supabase REST API** - ุงูุชูุงุนู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

## ๐ ูููู ุงููุดุฑูุน

```
SafariStadium/
โโโ index.html                          # ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โโโ admin.html                          # ููุญุฉ ุงูุชุญูู
โโโ css/
โ   โโโ style.css                       # ุงูุฃููุงุท ุงูุฑุฆูุณูุฉ
โ   โโโ admin.css                       # ุฃููุงุท ููุญุฉ ุงูุชุญูู
โโโ js/
โ   โโโ config.js                       # ุฅุนุฏุงุฏุงุช Supabase
โ   โโโ supabase-client.js              # ุนููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ app.js                          # ููุทู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
โ   โโโ admin.js                        # ููุทู ููุญุฉ ุงูุชุญูู
โ   โโโ utils.js                        # ุฏูุงู ูุณุงุนุฏุฉ
โโโ supabase/
โ   โโโ migrations/
โ   โ   โโโ 001_create_bookings_table.sql  # ุฅูุดุงุก ุงูุฌุฏุงูู
โ   โโโ functions/
โ       โโโ send-whatsapp-confirmation/    # ุฅุฑุณุงู ุงูุชุฃููุฏ
โ       โโโ send-booking-reminders/        # ุฅุฑุณุงู ุงูุชุฐููุฑุงุช
โโโ .env.example                        # ูุซุงู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
โโโ .gitignore                          # ูููุงุช Git ุงููุณุชุจุนุฏุฉ
โโโ README.md                           # ูุฐุง ุงูููู
```

---

## ๐ ุงูุฅุนุฏุงุฏ ูุงูุชุซุจูุช

### 1. ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/yourusername/safari-stadium.git
cd safari-stadium
```

### 2. ุฅุนุฏุงุฏ ููู ุงูุจูุฆุฉ

```bash
# ุงูุณุฎ ููู ุงููุซุงู
cp .env.example .env

# ุงูุชุญ .env ูุฃุถู ุจูุงูุงุชู
```

### 3. ุชุญุฏูุซ ููู ุงูุชูููู

ุงูุชุญ `js/config.js` ูุฃุถู ุจูุงูุงุช Supabase:

```javascript
const SUPABASE_CONFIG = {
    url: 'https://your-project.supabase.co',
    anonKey: 'your-anon-key'
};
```

---

## ๐ ุฅุนุฏุงุฏ Supabase

### 1. ุฅูุดุงุก ูุดุฑูุน ุฌุฏูุฏ

1. ุงุฐูุจ ุฅูู [Supabase Dashboard](https://app.supabase.com)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุงูุชุธุฑ ุญุชู ููุชูู ุงูุฅุนุฏุงุฏ

### 2. ุชุดุบูู Migration

ูู Supabase Dashboard:

1. ุงุฐูุจ ุฅูู **SQL Editor**
2. ุงูุณุฎ ูุญุชูู `supabase/migrations/001_create_bookings_table.sql`
3. ุงูุตู ุงูููุฏ ูููุฐู
4. ุชุญูู ูู ุฅูุดุงุก ุงูุฌุฏูู ูู **Table Editor**

### 3. ุงูุญุตูู ุนูู API Keys

1. ุงุฐูุจ ุฅูู **Project Settings** > **API**
2. ุงูุณุฎ:
   - `Project URL` โ `SUPABASE_URL`
   - `anon public` โ `SUPABASE_ANON_KEY`
   - `service_role` โ `SUPABASE_SERVICE_ROLE_KEY` (ููู Edge Functions ููุท)

### 4. ูุดุฑ Edge Functions

```bash
# ุชุซุจูุช Supabase CLI
npm install -g supabase

# ุชุณุฌูู ุงูุฏุฎูู
supabase login

# ุฑุจุท ุงููุดุฑูุน
supabase link --project-ref your-project-ref

# ูุดุฑ ุงูุฏูุงู
supabase functions deploy send-whatsapp-confirmation
supabase functions deploy send-booking-reminders

# ุชุนููู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
supabase secrets set WHATSAPP_PHONE_NUMBER_ID=your_id
supabase secrets set WHATSAPP_ACCESS_TOKEN=your_token
```

### 5. ุฅุนุฏุงุฏ Database Webhook

ูู Supabase Dashboard:

1. ุงุฐูุจ ุฅูู **Database** > **Webhooks**
2. ุฃูุดุฆ webhook ุฌุฏูุฏ:
   - **Name**: `booking-approved`
   - **Table**: `bookings`
   - **Events**: `UPDATE`
   - **Type**: `HTTP Request`
   - **URL**: `https://your-project.supabase.co/functions/v1/send-whatsapp-confirmation`
   - **HTTP Headers**: `Authorization: Bearer YOUR_ANON_KEY`

### 6. ุฅุนุฏุงุฏ CRON Job ููุชุฐููุฑุงุช

ูู **pg_cron** (Supabase Dashboard > Database > Extensions):

```sql
-- ุชูุนูู pg_cron
CREATE EXTENSION IF NOT EXISTS pg_cron;

-- ุฅูุดุงุก CRON job (ูู 15 ุฏูููุฉ)
SELECT cron.schedule(
    'send-booking-reminders',
    '*/15 * * * *',
    $$
    SELECT net.http_post(
        url:='https://your-project.supabase.co/functions/v1/send-booking-reminders',
        headers:='{"Authorization": "Bearer YOUR_ANON_KEY"}'::jsonb
    );
    $$
);
```

---

## ๐ฑ ุฅุนุฏุงุฏ WhatsApp API

### 1. ุฅูุดุงุก ุญุณุงุจ Meta Business

1. ุงุฐูุจ ุฅูู [Meta Business Suite](https://business.facebook.com)
2. ุฃูุดุฆ ุญุณุงุจ ุชุฌุงุฑู ุฌุฏูุฏ

### 2. ุฅุนุฏุงุฏ WhatsApp Business API

1. ูู Meta Business Suiteุ ุงุฐูุจ ุฅูู **WhatsApp** > **API Setup**
2. ุฃุถู ุฑูู ูุงุชู
3. ุงุญุตู ุนูู:
   - **Phone Number ID**
   - **Access Token** (ุฏุงุฆู)

### 3. ุงูุชุญูู ูู ุงูุฑูู

1. ุฃุฑุณู ุฑุณุงูุฉ ุชุฌุฑูุจูุฉ ูู Dashboard
2. ุชุญูู ูู ุงุณุชูุงู ุงูุฑุณุงูุฉ

### 4. ุฅุถุงูุฉ ุฃุฑูุงู ุงููุณุชูููู

ูู ุจูุฆุฉ ุงูุชุทููุฑุ ูุฌุจ ุฅุถุงูุฉ ุงูุฃุฑูุงู ูุฏููุงู:

1. **Settings** > **Phone Numbers**
2. ุฃุถู ุงูุฃุฑูุงู ุงูุชุฌุฑูุจูุฉ

**ููุงุญุธุฉ**: ูู ุงูุฅูุชุงุฌุ ุชุญุชุงุฌ ุฅูู ููุงููุฉ Meta ูุฅุฑุณุงู ุฑุณุงุฆู ูุฃู ุฑูู.

---

## ๐ป ุงูุงุณุชุฎุฏุงู

### ุชุดุบูู ุงููุดุฑูุน ูุญููุงู

ููููู ุงุณุชุฎุฏุงู ุฃู ุฎุงุฏู ููุจ ูุญูู:

#### ุจุงุณุชุฎุฏุงู Python:
```bash
python -m http.server 8000
```

#### ุจุงุณุชุฎุฏุงู Node.js:
```bash
npx http-server -p 8000
```

#### ุจุงุณุชุฎุฏุงู PHP:
```bash
php -S localhost:8000
```

ุซู ุงูุชุญ ุงููุชุตูุญ ุนูู: `http://localhost:8000`

### ุงุณุชุฎุฏุงู ุงููุธุงู

#### ููุนููุงุก:
1. ุงูุชุญ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ
2. ุงุฎุชุฑ ุงูููุนุจ
3. ุงููุฃ ูููุฐุฌ ุงูุญุฌุฒ
4. ุงูุชุธุฑ ุงูุชุฃููุฏ

#### ููุฅุฏุงุฑุฉ:
1. ุงูุชุญ `admin.html`
2. ุฑุงุฌุน ุงูุญุฌูุฒุงุช ุงูุฌุฏูุฏุฉ
3. ุงุถุบุท "ููุงููุฉ" ุฃู "ุฑูุถ"
4. ุณูุชู ุฅุฑุณุงู ูุงุชุณุงุจ ุชููุงุฆูุงู ุนูุฏ ุงูููุงููุฉ

---

## ๐ ุงููุดุฑ

### ุงููุดุฑ ุนูู GitHub Pages

1. ุงุฑูุน ุงููุดุฑูุน ุฅูู GitHub
2. ุงุฐูุจ ุฅูู **Settings** > **Pages**
3. ุงุฎุชุฑ branch: `main`
4. ุงุญูุธ

**ููุงุญุธุฉ**: ูุง ุชูุณู ุฅุถุงูุฉ `.env` ู `js/config.js` ุฅูู `.gitignore`

### ุงููุดุฑ ุนูู Netlify

```bash
# ุชุซุจูุช Netlify CLI
npm install -g netlify-cli

# ูุดุฑ
netlify deploy --prod
```

### ุงููุดุฑ ุนูู Vercel

```bash
# ุชุซุจูุช Vercel CLI
npm install -g vercel

# ูุดุฑ
vercel --prod
```

---

## ๐ ุงูุฃูุงู

### ูุตุงุฆุญ ูููุฉ:

1. โ **ูุง ุชุดุงุฑู** ููุงุชูุญ API ูู GitHub
2. โ ุงุณุชุฎุฏู **Row Level Security** ูู Supabase
3. โ ูููุฏ ุงููุตูู ุฅูู ููุญุฉ ุงูุชุญูู (ุฃุถู ูุตุงุฏูุฉ)
4. โ ุงุณุชุฎุฏู HTTPS ูู ุงูุฅูุชุงุฌ
5. โ ุฑุงุฌุน ุณูุงุณุงุช CORS

### ุฅุถุงูุฉ ูุตุงุฏูุฉ ูููุญุฉ ุงูุชุญูู (ููุตู ุจู):

```javascript
// ูู admin.js
const ADMIN_PASSWORD = 'your-secure-password';

function checkAuth() {
    const password = prompt('ุฃุฏุฎู ูููุฉ ุงููุฑูุฑ:');
    if (password !== ADMIN_PASSWORD) {
        alert('ูููุฉ ูุฑูุฑ ุฎุงุทุฆุฉ');
        window.location.href = 'index.html';
    }
}

checkAuth();
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: ูุง ุชุธูุฑ ุงูุญุฌูุฒุงุช

**ุงูุญู**:
1. ุชุญูู ูู ุฅุนุฏุงุฏุงุช Supabase ูู `config.js`
2. ุงูุชุญ Console ูู ุงููุชุตูุญ ูุงุจุญุซ ุนู ุฃุฎุทุงุก
3. ุชุญูู ูู RLS policies ูู Supabase

### ุงููุดููุฉ: ูุง ุชุตู ุฑุณุงุฆู ูุงุชุณุงุจ

**ุงูุญู**:
1. ุชุญูู ูู ุตุญุฉ `WHATSAPP_ACCESS_TOKEN`
2. ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงูุฑูู ูู Meta Dashboard (ุจูุฆุฉ ุงูุชุทููุฑ)
3. ุฑุงุฌุน logs ูู Supabase Functions

### ุงููุดููุฉ: ุฎุทุฃ CORS

**ุงูุญู**:
1. ุชุฃูุฏ ูู ุชูุนูู CORS ูู Supabase
2. ุฃุถู domain ูููุนู ูู Supabase Settings

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ููุชูุญ ุงููุตุฏุฑ ููุชุงุญ ููุงุณุชุฎุฏุงู ุงูุชุฌุงุฑู ูุงูุดุฎุตู.

---

## ๐จโ๐ป ุงููุทูุฑ

ุชู ุชุทููุฑ ูุฐุง ุงููุธุงู ูุญู ุชุฌุงุฑู ุงุญุชุฑุงูู ูุฅุฏุงุฑุฉ ุญุฌูุฒุงุช ุงูููุงุนุจ ุงูุฑูุงุถูุฉ.

---

## ๐ค ุงููุณุงููุฉ

ุงููุณุงููุงุช ูุฑุญุจ ุจูุง! ูุฑุฌู:

1. Fork ุงููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ
3. Commit ุงูุชุบููุฑุงุช
4. Push ุฅูู Branch
5. ูุชุญ Pull Request

---

## ๐ ุงูุฏุนู

ูููุณุงุนุฏุฉ ุฃู ุงูุงุณุชูุณุงุฑุงุช:
- ุงูุชุญ Issue ูู GitHub
- ุฑุงุฌุน ุงูุชูุซูู ุงูุฑุณูู ูู [Supabase](https://supabase.com/docs)
- ุฑุงุฌุน ุชูุซูู [WhatsApp Cloud API](https://developers.facebook.com/docs/whatsapp/cloud-api)

---

**ุตููุน ุจู โค๏ธ ูููุฌุชูุน ุงูุนุฑุจู**
#   S a f a r i S t a d i u m  
 